@model SmartRx.Domain.LoginRequest

<h2>Login</h2>
<form method="post" id="loginForm">
    <div class="mb-3">
        <label class="form-label">Username</label>
        <input asp-for="Username" class="form-control" id="Username" />
    </div>
    <div class="mb-3">
        <label class="form-label">Password</label>
        <input asp-for="Password" type="password" class="form-control" id="Password" />
    </div>
    <button class="btn btn-primary" id="loginBtn" disabled>Login</button>

    @if (ViewBag.Error != null)
    {
        <div class="text-danger mt-2">@ViewBag.Error</div>
    }
</form>

@section Scripts {
    <script>
        const usernameInput = document.getElementById("Username");
        const passwordInput = document.getElementById("Password");
        const loginBtn = document.getElementById("loginBtn");

        function toggleButton() {
            loginBtn.disabled = !(usernameInput.value.trim() && passwordInput.value.trim());
        }

        usernameInput.addEventListener("input", toggleButton);
        passwordInput.addEventListener("input", toggleButton);
    </script>
}
